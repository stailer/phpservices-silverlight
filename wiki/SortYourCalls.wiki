== your methods in PHP :==

<code language="php">
<?php
class Services_Example 
{
    public function MyTask1()
    {
        return 'Hello ';
    }
    
    public function MyTask2()
    {
        return 'Jeff DOE, ';
    }
    
    public function MyTask3()
    {
        return 'How are you ?';
    }
}
</code>


== C# Client Service, create your calls :==

<code language="c#">
public void Services_Example_MyTask1_Completed(string myReturn)
{
   this.ReturnText = myReturn;
}


public void Services_Example_MyTask2_Completed(string myReturn)
{
  this.ReturnText += myReturn;
}


public void Services_Example_MyTask3_Completed(string myReturn)
{
   this.ReturnText += myReturn;
}
</code>

I want to call my Async services and obtain : 
"Hello Jeff DOE, How are you ?"

But my services are asynchronous... I don't know when i receive response !

Then, i must create a "batch" to call my services one after the other :


<code language="c#">
private void Sample4()
{
    // New "batch" system
    this.php.BatchFlag = new Batch();
    this.php.BatchFlag.Completed += (sender, e) =>
     {
         this.ReturnText +=  ", All is completed : )"; // Called when all task are ok
    };

    // not call ! it's juste a reference
    Guid tsk1 = this.php.ExecuteAsyncBatch("Services_Example", "MyTask1");
   Guid tsk2 = this.php.ExecuteAsyncBatch("Services_Example", "MyTask2"); 
   Guid tsk3 = this.php.ExecuteAsyncBatch("Services_Example", "MyTask3"); 


    BatchAction act1 = this.php.BatchFlag.Find(tsk1);  
    act1.IsActionCompletedChanged += (sender, e) =>
    {
        this.php.BatchFlag.Run(tsk2); // Called when my task1 is completed
    };


    BatchAction act2 = this.php.BatchFlag.Find(tsk2);
    act2.IsActionCompletedChanged += (sender, e) =>
    {
           this.php.BatchFlag.Run(tsk3);   // Called when my task2 is completed
    };


     this.php.BatchFlag.Run(tsk1); // call task1 
 }
</code>

result : ReturnText = "Hello Jeff DOE, How are you ?"